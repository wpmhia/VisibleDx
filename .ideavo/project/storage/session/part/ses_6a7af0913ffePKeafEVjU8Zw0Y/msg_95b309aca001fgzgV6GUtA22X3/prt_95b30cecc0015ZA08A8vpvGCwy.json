{
  "id": "prt_95b30cecc0015ZA08A8vpvGCwy",
  "messageID": "msg_95b309aca001fgzgV6GUtA22X3",
  "sessionID": "ses_6a7af0913ffePKeafEVjU8Zw0Y",
  "type": "tool",
  "tool": "read",
  "callID": "toolu_01F8QhbEkqbpcB23AY3oo7nu",
  "state": {
    "status": "completed",
    "input": {
      "filePath": "/home/user/project/lib/language-context.tsx"
    },
    "output": "<file>\n00001| 'use client'\n00002| \n00003| import { createContext, useContext, useState, useEffect, ReactNode } from 'react'\n00004| import { SupportedLanguage, Translation } from './translations/types'\n00005| import { translations } from './translations'\n00006| \n00007| interface LanguageContextType {\n00008|   language: SupportedLanguage\n00009|   setLanguage: (language: SupportedLanguage) => void\n00010|   t: Translation\n00011| }\n00012| \n00013| const LanguageContext = createContext<LanguageContextType | undefined>(undefined)\n00014| \n00015| export function LanguageProvider({ children }: { children: ReactNode }) {\n00016|   const [language, setLanguageState] = useState<SupportedLanguage>('en')\n00017| \n00018|   useEffect(() => {\n00019|     // Check for saved language preference\n00020|     const savedLanguage = localStorage.getItem('autodx-language') as SupportedLanguage\n00021|     if (savedLanguage && translations[savedLanguage]) {\n00022|       setLanguageState(savedLanguage)\n00023|     } else {\n00024|       // Detect browser language\n00025|       const browserLang = navigator.language.toLowerCase()\n00026|       if (browserLang.startsWith('nl')) setLanguageState('nl')\n00027|       else if (browserLang.startsWith('da')) setLanguageState('da')\n00028|       else if (browserLang.startsWith('de')) setLanguageState('de')\n00029|       else if (browserLang.startsWith('sv')) setLanguageState('sv')\n00030|       else if (browserLang.startsWith('no')) setLanguageState('no')\n00031|       else if (browserLang.startsWith('fr')) setLanguageState('fr')\n00032|       else setLanguageState('en')\n00033|     }\n00034|   }, [])\n00035| \n00036|   const setLanguage = (newLanguage: SupportedLanguage) => {\n00037|     setLanguageState(newLanguage)\n00038|     localStorage.setItem('autodx-language', newLanguage)\n00039|   }\n00040| \n00041|   const t = translations[language]\n00042| \n00043|   return (\n00044|     <LanguageContext.Provider value={{ language, setLanguage, t }}>\n00045|       {children}\n00046|     </LanguageContext.Provider>\n00047|   )\n00048| }\n00049| \n00050| export function useTranslation() {\n00051|   const context = useContext(LanguageContext)\n00052|   if (context === undefined) {\n00053|     throw new Error('useTranslation must be used within a LanguageProvider')\n00054|   }\n00055|   return context\n00056| }\n</file>",
    "metadata": {
      "preview": "'use client'\n\nimport { createContext, useContext, useState, useEffect, ReactNode } from 'react'\nimport { SupportedLanguage, Translation } from './translations/types'\nimport { translations } from './translations'\n\ninterface LanguageContextType {\n  language: SupportedLanguage\n  setLanguage: (language: SupportedLanguage) => void\n  t: Translation\n}\n\nconst LanguageContext = createContext<LanguageContextType | undefined>(undefined)\n\nexport function LanguageProvider({ children }: { children: ReactNode }) {\n  const [language, setLanguageState] = useState<SupportedLanguage>('en')\n\n  useEffect(() => {\n    // Check for saved language preference\n    const savedLanguage = localStorage.getItem('autodx-language') as SupportedLanguage"
    },
    "title": "lib/language-context.tsx",
    "time": {
      "start": 1758171549847,
      "end": 1758171549849
    }
  }
}