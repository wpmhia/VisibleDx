{
  "id": "prt_958d6e475001KujShb4rH1hmoq",
  "messageID": "msg_958d6a8c90017qMvrvGKy0MEXO",
  "sessionID": "ses_6a7af0913ffePKeafEVjU8Zw0Y",
  "type": "tool",
  "tool": "write",
  "callID": "toolu_01AdM6hWfA3Lysy1JXkNCN3H",
  "state": {
    "status": "completed",
    "input": {
      "filePath": "/home/user/project/components/navigation.tsx",
      "content": "'use client'\n\nimport { useState } from 'react'\nimport Link from 'next/link'\nimport { Button } from '@/components/ui/button'\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuGroup,\n  DropdownMenuItem,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n  DropdownMenuTrigger,\n} from '@/components/ui/dropdown-menu'\nimport {\n  Sheet,\n  SheetContent,\n  SheetDescription,\n  SheetHeader,\n  SheetTitle,\n  SheetTrigger,\n} from '@/components/ui/sheet'\nimport { Badge } from '@/components/ui/badge'\nimport { \n  Home, \n  Menu, \n  Stethoscope, \n  Clock, \n  AlertTriangle, \n  Heart, \n  Activity, \n  BarChart3, \n  Settings,\n  BookOpen,\n  ExternalLink,\n  Info,\n  User\n} from 'lucide-react'\nimport { useTranslation } from '@/lib/language-context'\nimport { LanguageSelector } from '@/components/language-selector'\n\nconst assessmentModules = [\n  {\n    href: '/new-patient',\n    icon: User,\n    title: 'New Patient Assessment',\n    description: 'Complete guided evaluation',\n    badge: 'Smart'\n  },\n  {\n    href: '/quick-screen',\n    icon: Clock,\n    title: 'Quick-Screen',\n    description: '16 questions Â· 2 minutes',\n    badge: null\n  },\n  {\n    href: '/red-flag-checker',\n    icon: AlertTriangle,\n    title: 'Red-flag Checker',\n    description: 'Lab recommendations',\n    badge: null\n  },\n  {\n    href: '/stand-test',\n    icon: Heart,\n    title: 'Stand-Test Pro',\n    description: '10-min NASA protocol',\n    badge: null\n  },\n  {\n    href: '/pem-quest',\n    icon: Activity,\n    title: 'PEM-Quest',\n    description: 'Post-exertional malaise',\n    badge: null\n  },\n  {\n    href: '/criteria-engine',\n    icon: BarChart3,\n    title: 'Criteria Engine',\n    description: 'CDC, IOM, ESC, WHO',\n    badge: null\n  },\n  {\n    href: '/subtype-advisor',\n    icon: Settings,\n    title: 'Subtype Advisor',\n    description: 'POTS treatment recommendations',\n    badge: null\n  }\n]\n\nconst guidelines = [\n  {\n    title: 'ME/CFS - CDC Case Definition (2015)',\n    url: 'https://www.cdc.gov/me-cfs/healthcare-providers/diagnosis/clinical-criteria.html',\n    organization: 'CDC'\n  },\n  {\n    title: 'ME/CFS - NASEM Report (2015)',\n    url: 'https://www.nationalacademies.org/our-work/a-review-of-the-continuing-challenges-in-the-diagnosis-and-treatment-of-myalgic-encephalomyelitis-chronic-fatigue-syndrome-me-cfs',\n    organization: 'NASEM'\n  },\n  {\n    title: 'Long COVID - WHO Clinical Case Definition (2021)',\n    url: 'https://www.who.int/publications/i/item/WHO-2019-nCoV-Post_COVID-19_condition-Clinical_case_definition-2021.1',\n    organization: 'WHO'\n  },\n  {\n    title: 'POTS - ESC Guidelines (2018)',\n    url: 'https://academic.oup.com/eurheartj/article/39/21/1840/4939241',\n    organization: 'ESC'\n  },\n  {\n    title: 'POTS - AAS/EFAS Consensus (2021)',\n    url: 'https://www.ahajournals.org/doi/10.1161/CIRCULATIONAHA.120.050854',\n    organization: 'AAS/EFAS'\n  },\n  {\n    title: 'Long COVID - NASEM Framework (2024)',\n    url: 'https://www.nationalacademies.org/our-work/a-framework-for-measuring-progress-in-addressing-long-covid',\n    organization: 'NASEM'\n  }\n]\n\nexport default function Navigation() {\n  const { t } = useTranslation()\n  const [isOpen, setIsOpen] = useState(false)\n\n  return (\n    <header className=\"sticky top-0 z-50 w-full border-b bg-white/95 backdrop-blur supports-[backdrop-filter]:bg-white/60\">\n      <div className=\"container mx-auto px-4 h-16 flex items-center justify-between\">\n        {/* Logo and Home Link */}\n        <Link href=\"/\" className=\"flex items-center gap-2 hover:opacity-80 transition-opacity\">\n          <Stethoscope className=\"h-6 w-6 text-blue-600\" />\n          <div className=\"font-bold text-lg\">\n            <span className=\"text-blue-600\">Auto</span>\n            <span className=\"text-gray-900\">Dx</span>\n          </div>\n        </Link>\n\n        {/* Desktop Navigation */}\n        <nav className=\"hidden md:flex items-center gap-4\">\n          <DropdownMenu>\n            <DropdownMenuTrigger asChild>\n              <Button variant=\"ghost\" className=\"flex items-center gap-2\">\n                <BarChart3 className=\"h-4 w-4\" />\n                Assessment Modules\n              </Button>\n            </DropdownMenuTrigger>\n            <DropdownMenuContent className=\"w-80\">\n              <DropdownMenuLabel>Diagnostic Tools</DropdownMenuLabel>\n              <DropdownMenuSeparator />\n              <DropdownMenuGroup>\n                {assessmentModules.map((module) => (\n                  <DropdownMenuItem key={module.href} asChild>\n                    <Link href={module.href} className=\"flex items-center gap-3 p-3\">\n                      <module.icon className=\"h-4 w-4 text-blue-600\" />\n                      <div className=\"flex-1\">\n                        <div className=\"flex items-center gap-2\">\n                          <span className=\"font-medium\">{module.title}</span>\n                          {module.badge && (\n                            <Badge variant=\"secondary\" className=\"text-xs\">\n                              {module.badge}\n                            </Badge>\n                          )}\n                        </div>\n                        <p className=\"text-xs text-gray-600\">{module.description}</p>\n                      </div>\n                    </Link>\n                  </DropdownMenuItem>\n                ))}\n              </DropdownMenuGroup>\n            </DropdownMenuContent>\n          </DropdownMenu>\n\n          <Sheet>\n            <SheetTrigger asChild>\n              <Button variant=\"ghost\" className=\"flex items-center gap-2\">\n                <BookOpen className=\"h-4 w-4\" />\n                Guidelines\n              </Button>\n            </SheetTrigger>\n            <SheetContent>\n              <SheetHeader>\n                <SheetTitle>Clinical Guidelines & References</SheetTitle>\n                <SheetDescription>\n                  Evidence-based guidelines used in AutoDx diagnostic algorithms\n                </SheetDescription>\n              </SheetHeader>\n              <div className=\"mt-6 space-y-4\">\n                {guidelines.map((guideline, index) => (\n                  <div key={index} className=\"border rounded-lg p-4 hover:bg-gray-50\">\n                    <div className=\"flex items-start justify-between gap-2\">\n                      <div className=\"flex-1\">\n                        <h4 className=\"font-medium text-sm leading-relaxed\">{guideline.title}</h4>\n                        <Badge variant=\"outline\" className=\"mt-2 text-xs\">\n                          {guideline.organization}\n                        </Badge>\n                      </div>\n                      <Button\n                        size=\"sm\"\n                        variant=\"ghost\"\n                        asChild\n                        className=\"shrink-0\"\n                      >\n                        <a \n                          href={guideline.url} \n                          target=\"_blank\" \n                          rel=\"noopener noreferrer\"\n                          className=\"flex items-center gap-1\"\n                        >\n                          <ExternalLink className=\"h-3 w-3\" />\n                        </a>\n                      </Button>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            </SheetContent>\n          </Sheet>\n\n          <LanguageSelector />\n        </nav>\n\n        {/* Mobile Navigation */}\n        <div className=\"flex md:hidden items-center gap-2\">\n          <LanguageSelector />\n          <Sheet open={isOpen} onOpenChange={setIsOpen}>\n            <SheetTrigger asChild>\n              <Button variant=\"ghost\" size=\"icon\">\n                <Menu className=\"h-5 w-5\" />\n              </Button>\n            </SheetTrigger>\n            <SheetContent side=\"right\">\n              <SheetHeader>\n                <SheetTitle className=\"flex items-center gap-2\">\n                  <Stethoscope className=\"h-5 w-5 text-blue-600\" />\n                  AutoDx Menu\n                </SheetTitle>\n              </SheetHeader>\n              <div className=\"mt-6 space-y-4\">\n                <div>\n                  <h3 className=\"font-semibold mb-3 text-sm uppercase tracking-wide text-gray-500\">\n                    Assessment Modules\n                  </h3>\n                  <div className=\"space-y-2\">\n                    {assessmentModules.map((module) => (\n                      <Link\n                        key={module.href}\n                        href={module.href}\n                        onClick={() => setIsOpen(false)}\n                        className=\"flex items-center gap-3 p-3 rounded-lg hover:bg-gray-50 transition-colors\"\n                      >\n                        <module.icon className=\"h-4 w-4 text-blue-600\" />\n                        <div className=\"flex-1\">\n                          <div className=\"flex items-center gap-2\">\n                            <span className=\"font-medium text-sm\">{module.title}</span>\n                            {module.badge && (\n                              <Badge variant=\"secondary\" className=\"text-xs\">\n                                {module.badge}\n                              </Badge>\n                            )}\n                          </div>\n                          <p className=\"text-xs text-gray-600\">{module.description}</p>\n                        </div>\n                      </Link>\n                    ))}\n                  </div>\n                </div>\n\n                <div className=\"border-t pt-4\">\n                  <h3 className=\"font-semibold mb-3 text-sm uppercase tracking-wide text-gray-500\">\n                    Guidelines & References\n                  </h3>\n                  <div className=\"space-y-2\">\n                    {guidelines.slice(0, 3).map((guideline, index) => (\n                      <a\n                        key={index}\n                        href={guideline.url}\n                        target=\"_blank\"\n                        rel=\"noopener noreferrer\"\n                        className=\"flex items-center gap-3 p-3 rounded-lg hover:bg-gray-50 transition-colors\"\n                      >\n                        <ExternalLink className=\"h-3 w-3 text-gray-500\" />\n                        <div className=\"flex-1\">\n                          <span className=\"text-sm font-medium\">{guideline.title}</span>\n                          <Badge variant=\"outline\" className=\"ml-2 text-xs\">\n                            {guideline.organization}\n                          </Badge>\n                        </div>\n                      </a>\n                    ))}\n                    <div className=\"text-xs text-gray-500 p-2\">\n                      + {guidelines.length - 3} more guidelines\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </SheetContent>\n          </Sheet>\n        </div>\n      </div>\n    </header>\n  )\n}"
    },
    "output": "",
    "metadata": {
      "diagnostics": {},
      "filepath": "/home/user/project/components/navigation.tsx",
      "exists": false
    },
    "title": "components/navigation.tsx",
    "time": {
      "start": 1758132137190,
      "end": 1758132137213
    }
  }
}